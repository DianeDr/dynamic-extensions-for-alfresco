apply plugin: 'osgi'

dependencies {
    compile project(":alfresco-integration")
    compile project(":annotations")
    compile project(":webscript-support")
    compile "org.osgi:org.osgi.core:${project.ext.osgiVersion}"
    compile "org.springframework.extensions.surf:spring-webscripts:${project.ext.springSurfVersion}"
    compile "com.springsource.util:com.springsource.util.osgi:${project.ext.springOsgiUtilVersion}"
}

jar {
    manifest {
        instruction 'Alfresco-Dynamic-Extension', 'true'
        instruction 'Bundle-Description', 'Control Panel'
        instruction 'Alfresco-Spring-Configuration', 'com.github.dynamicextensionsalfresco.controlpanel'
        instruction 'Spring-Context', ';publish-context:=false'
        instruction 'Import-Package', """*,
							net.sf.cglib.core,
							net.sf.cglib.proxy,
							net.sf.cglib.reflect,
							org.aopalliance.aop,
							org.aopalliance.intercept,
							org.springframework.aop,
							org.springframework.aop.framework"""
    }
}

defaultTasks 'jar'
